import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = process.env.NEXT_PUBLIC_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey || "");

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "hotelImageURL": "https://www.theD.com/images/hero-images/hero-the-d-hotel-casino.jpg",\n      "geoCoordinates": "36.1699° N, 115.1424° W",\n      "rating": 4.0,\n      "description": "A budget-friendly hotel located in the heart of Fremont Street Experience. Offers a casino, restaurants, and a pool."\n    },\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$40-$80 per night",\n      "hotelImageURL": "https://www.circuscircus.com/content/dam/MGMResorts/CircusCircus/hero-images/circus-circus-hotel-casino-hero-image.jpg",\n      "geoCoordinates": "36.1174° N, 115.1720° W",\n      "rating": 3.5,\n      "description": "A classic Las Vegas hotel with a circus theme, featuring a midway, amusement rides, and a large casino."\n    },\n    {\n      "hotelName": "Golden Nugget Las Vegas",\n      "hotelAddress": "129 E Fremont St, Las Vegas, NV 89101",\n      "price": "$60-$120 per night",\n      "hotelImageURL": "https://www.goldennugget.com/las-vegas/media/images/gnlv-hero-mobile.jpg",\n      "geoCoordinates": "36.1698° N, 115.1414° W",\n      "rating": 4.5,\n      "description": "A luxurious hotel with a unique shark tank, multiple pools, and a vibrant casino."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "time": "Morning (9:00 AM - 12:00 PM)",\n      "placeName": "Fremont Street Experience",\n      "placeDetails": "A pedestrian mall with a canopy of lights, street performers, and numerous casinos.",\n      "placeImageURL": "https://www.vegasexperience.com/sites/default/files/styles/large/public/fremont-street-experience.jpg",\n      "geoCoordinates": "36.1694° N, 115.1426° W",\n      "ticketPricing": "Free",\n      "rating": 4.5\n    },\n    "day1": {\n      "time": "Afternoon (12:00 PM - 3:00 PM)",\n      "placeName": "The Neon Museum",\n      "placeDetails": "An outdoor museum showcasing historic Las Vegas neon signs.",\n      "placeImageURL": "https://www.neonmuseum.org/images/neon-museum-hero-image.jpg",\n      "geoCoordinates": "36.1779° N, 115.1457° W",\n      "ticketPricing": "$20-$30",\n      "rating": 4.0\n    },\n    "day1": {\n      "time": "Evening (6:00 PM - 10:00 PM)",\n      "placeName": "Buffet at a Casino",\n      "placeDetails": "Enjoy a delicious and affordable buffet at one of the many casinos on the Strip.",\n      "placeImageURL": "https://www.caesars.com/content/dam/caesars/casino-hotels/paris-las-vegas/restaurants/le-buffet-paris-las-vegas-buffet-2022.jpg",\n      "geoCoordinates": "N/A (varies by casino)",\n      "ticketPricing": "$20-$40",\n      "rating": 4.0\n    },\n    "day2": {\n      "time": "Morning (9:00 AM - 12:00 PM)",\n      "placeName": "Bellagio Conservatory & Botanical Garden",\n      "placeDetails": "A free attraction showcasing beautiful floral displays.",\n      "placeImageURL": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/hero-images/bellagio-conservatory-botanical-garden.jpg",\n      "geoCoordinates": "36.1120° N, 115.1727° W",\n      "ticketPricing": "Free",\n      "rating": 4.5\n    },\n    "day2": {\n      "time": "Afternoon (12:00 PM - 3:00 PM)",\n      "placeName": "The LINQ Promenade",\n      "placeDetails": "A shopping and dining destination with a High Roller observation wheel.",\n      "placeImageURL": "https://www.linq.com/content/dam/mgmresorts/thelinq/hero-images/high-roller-observation-wheel-night.jpg",\n      "geoCoordinates": "36.1138° N, 115.1725° W",\n      "ticketPricing": "$20-$30 (for High Roller)",\n      "rating": 4.0\n    },\n    "day2": {\n      "time": "Evening (6:00 PM - 10:00 PM)",\n      "placeName": "Free Show on the Strip",\n      "placeDetails": "Catch a free show at one of the casinos, such as the Bellagio Fountains or the Mirage Volcano.",\n      "placeImageURL": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/hero-images/fountains-of-bellagio-night-view.jpg",\n      "geoCoordinates": "N/A (varies by show)",\n      "ticketPricing": "Free",\n      "rating": 4.5\n    },\n    "day3": {\n      "time": "Morning (9:00 AM - 12:00 PM)",\n      "placeName": "Hoover Dam",\n      "placeDetails": "A historic dam and engineering marvel located a short drive from Las Vegas.",\n      "placeImageURL": "https://www.nps.gov/hoov/planyourvisit/images/hooverdam-overview-1265-2011_12.jpg",\n      "geoCoordinates": "36.0033° N, 114.9897° W",\n      "ticketPricing": "Free (for dam observation), $30 for tour",\n      "rating": 4.5\n    },\n    "day3": {\n      "time": "Afternoon (12:00 PM - 3:00 PM)",\n      "placeName": "Red Rock Canyon National Conservation Area",\n      "placeDetails": "A beautiful desert landscape with hiking trails and scenic drives.",\n      "placeImageURL": "https://www.nps.gov/redr/learn/nature/images/red-rock-canyon-red-rock-canyon-national-conservation-area-1461.jpg",\n      "geoCoordinates": "36.2137° N, 115.3277° W",\n      "ticketPricing": "$15 per vehicle",\n      "rating": 4.5\n    },\n    "day3": {\n      "time": "Evening (6:00 PM - 10:00 PM)",\n      "placeName": "Free Show on the Strip",\n      "placeDetails": "Enjoy another free show on the Strip, such as the Wynn Lake of Dreams or the Caesars Palace Fountains.",\n      "placeImageURL": "https://www.caesars.com/content/dam/caesars/casino-hotels/caesars-palace/hero-images/fountains-of-bellagio.jpg",\n      "geoCoordinates": "N/A (varies by show)",\n      "ticketPricing": "Free",\n      "rating": 4.5\n    }\n  }\n}\n```\n\n**Notes:**\n\n* This itinerary is just a suggestion, you can customize it based on your interests.\n* Prices are approximate and may vary depending on the season and availability.\n* Free shows and attractions are subject to change, so it\'s always a good idea to check their websites for updates.\n* Consider using public transportation or rideshare services to get around Las Vegas to save money.\n* Las Vegas is a very walkable city, so you can easily explore many attractions on foot. \n\n**Tips for a Cheap Budget:**\n\n* Stay in budget-friendly hotels located off the Strip.\n* Take advantage of free attractions, shows, and activities.\n* Pack your own snacks and drinks to avoid expensive purchases at casinos.\n* Eat at local restaurants instead of high-end dining establishments.\n* Consider visiting during the off-season to get lower prices on hotels and flights.\n* Use discount coupons and promo codes for attractions and shows.\n* Take advantage of happy hour deals and drink specials.\n',
        },
      ],
    },
  ],
});
